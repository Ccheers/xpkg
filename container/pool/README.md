<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# pool

```go
import "github.com/ccheers/xpkg/container/pool"
```

## Index

- [Variables](<#variables>)
- [type Config](<#type-config>)
- [type List](<#type-list>)
  - [func NewList(c *Config) *List](<#func-newlist>)
  - [func (p *List) Close() error](<#func-list-close>)
  - [func (p *List) Get(ctx context.Context) (io.ReadWriteCloser, error)](<#func-list-get>)
  - [func (p *List) Put(ctx context.Context, c io.ReadWriteCloser, forceClose bool) error](<#func-list-put>)
  - [func (p *List) Reload(c *Config) error](<#func-list-reload>)
- [type Pool](<#type-pool>)
- [type Slice](<#type-slice>)
  - [func NewSlice(c *Config) *Slice](<#func-newslice>)
  - [func (p *Slice) Close() error](<#func-slice-close>)
  - [func (p *Slice) Get(ctx context.Context) (io.ReadWriteCloser, error)](<#func-slice-get>)
  - [func (p *Slice) Put(ctx context.Context, c io.ReadWriteCloser, forceClose bool) error](<#func-slice-put>)
  - [func (p *Slice) Reload(c *Config) error](<#func-slice-reload>)


## Variables

```go
var (
    // ErrPoolExhausted connections are exhausted.
    ErrPoolExhausted = errors.New("container/pool exhausted")
    // ErrPoolClosed connection pool is closed.
    ErrPoolClosed = errors.New("container/pool closed")
)
```

## type Config

Config is the pool configuration struct.

```go
type Config struct {
    // Active number of items allocated by the pool at a given time.
    // When zero, there is no limit on the number of items in the pool.
    Active int
    // Idle number of idle items in the pool.
    Idle int
    // Close items after remaining item for this duration. If the value
    // is zero, then item items are not closed. Applications should set
    // the timeout to a value less than the server's timeout.
    IdleTimeout xtime.Duration
    // If WaitTimeout is set and the pool is at the Active limit, then Get() waits WatiTimeout
    // until a item to be returned to the pool before returning.
    WaitTimeout xtime.Duration
    // If WaitTimeout is not set, then Wait effects.
    // if Wait is set true, then wait until ctx timeout, or default flase and return directly.
    Wait bool
}
```

## type List

List .

```go
type List struct {
    // New is an application supplied function for creating and configuring a
    // item.
    //
    // The item returned from new must not be in a special state
    // (subscribed to pubsub channel, transaction started, ...).
    New func(ctx context.Context) (io.ReadWriteCloser, error)
    // contains filtered or unexported fields
}
```

### func NewList

```go
func NewList(c *Config) *List
```

NewList creates a new pool.

### func \(\*List\) Close

```go
func (p *List) Close() error
```

Close releases the resources used by the pool.

### func \(\*List\) Get

```go
func (p *List) Get(ctx context.Context) (io.ReadWriteCloser, error)
```

Get returns a item from the idles List or get a new item.

### func \(\*List\) Put

```go
func (p *List) Put(ctx context.Context, c io.ReadWriteCloser, forceClose bool) error
```

Put put item into pool.

### func \(\*List\) Reload

```go
func (p *List) Reload(c *Config) error
```

Reload reload config.

## type Pool

Pool interface.

```go
type Pool interface {
    Get(ctx context.Context) (io.ReadWriteCloser, error)
    Put(ctx context.Context, c io.ReadWriteCloser, forceClose bool) error
    Close() error
}
```

## type Slice

Slice .

```go
type Slice struct {
    // New is an application supplied function for creating and configuring a
    // item.
    //
    // The item returned from new must not be in a special state
    // (subscribed to pubsub channel, transaction started, ...).
    New func(ctx context.Context) (io.ReadWriteCloser, error)
    // contains filtered or unexported fields
}
```

### func NewSlice

```go
func NewSlice(c *Config) *Slice
```

NewSlice creates a new pool.

### func \(\*Slice\) Close

```go
func (p *Slice) Close() error
```

Close close pool.

### func \(\*Slice\) Get

```go
func (p *Slice) Get(ctx context.Context) (io.ReadWriteCloser, error)
```

Get returns a newly\-opened or cached \*item.

### func \(\*Slice\) Put

```go
func (p *Slice) Put(ctx context.Context, c io.ReadWriteCloser, forceClose bool) error
```

Put adds a item to the p's free pool. err is optionally the last error that occurred on this item.

### func \(\*Slice\) Reload

```go
func (p *Slice) Reload(c *Config) error
```

Reload reload config.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
